var W=Object.create;var E=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var j=(e,o,n)=>o in e?E(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,T=(e,o)=>{for(var n in o||(o={}))k.call(o,n)&&j(e,n,o[n]);if(R)for(var n of R(o))F.call(o,n)&&j(e,n,o[n]);return e};var I=e=>E(e,"__esModule",{value:!0});var b=(e,o)=>{var n={};for(var u in e)k.call(e,u)&&o.indexOf(u)<0&&(n[u]=e[u]);if(e!=null&&R)for(var u of R(e))o.indexOf(u)<0&&F.call(e,u)&&(n[u]=e[u]);return n};var $=(e,o)=>{for(var n in o)E(e,n,{get:o[n],enumerable:!0})},J=(e,o,n,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of Z(o))!k.call(e,c)&&(n||c!=="default")&&E(e,c,{get:()=>o[c],enumerable:!(u=Y(o,c))||u.enumerable});return e},y=(e,o)=>J(I(E(e!=null?W(_(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ee=(e=>(o,n)=>e&&e.get(o)||(n=J(I({}),o,1),e&&e.set(o,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var oe={};$(oe,{AddressAutofill:()=>K,AddressMinimap:()=>X,SearchBox:()=>U,config:()=>V.config,useAddressAutofillCore:()=>P,useConfirmAddress:()=>Q,useEvented:()=>D,useMapboxAutofill:()=>P,useSearchBoxCore:()=>G,useSearchSession:()=>z});var Be=require("@mapbox/search-js-web"),V=require("@mapbox/search-js-web");var a=y(require("react")),K=a.default.forwardRef((e,o)=>{let{accessToken:n,options:u,theme:c,popoverOptions:p,confirmOnBrowserAutofill:x,browserAutofillEnabled:h,children:S,onChange:l,onSuggest:m,onSuggestError:A,onRetrieve:v,interceptSearch:s}=e,t=(0,a.useRef)();return(0,a.useImperativeHandle)(o,()=>({focus:()=>{if(t.current)return t.current.focus();throw new Error("AddressAutofill is not mounted")}})),(0,a.useEffect)(()=>{t.current&&(t.current.options=u)},[t.current,u]),(0,a.useEffect)(()=>{t.current&&(t.current.interceptSearch=s)},[t.current,u]),(0,a.useEffect)(()=>{t.current&&(t.current.theme=c)},[t.current,c]),(0,a.useEffect)(()=>{t.current&&(t.current.popoverOptions=p)},[t.current,p]),(0,a.useEffect)(()=>{t.current&&(t.current.confirmOnBrowserAutofill=x)},[t.current,x]),(0,a.useEffect)(()=>{t.current&&(t.current.browserAutofillEnabled=h)},[t.current,h]),(0,a.useEffect)(()=>{let i=t.current;if(!i||!m)return;let r=g=>m(g.detail);return i.addEventListener("suggest",r),()=>{i.removeEventListener("suggest",r)}},[t.current,m]),(0,a.useEffect)(()=>{let i=t.current;if(!i||!A)return;let r=g=>A(g.detail);return i.addEventListener("suggesterror",r),()=>{i.removeEventListener("suggesterror",r)}},[t.current,A]),(0,a.useEffect)(()=>{let i=t.current;if(!i||!v)return;let r=g=>v(g.detail);return i.addEventListener("retrieve",r),()=>{i.removeEventListener("retrieve",r)}},[t.current,v]),(0,a.useEffect)(()=>{let i=t.current;if(!i||!l)return;let r=g=>{g.target===g.currentTarget&&l(g.detail)};return i.addEventListener("input",r),()=>{i.removeEventListener("input",r)}},[t.current,l]),(0,a.useEffect)(()=>{t.current&&(t.current.accessToken=n)},[t.current,n]),a.default.createElement("mapbox-address-autofill",{ref:t},S)});var f=y(require("react")),U=f.default.forwardRef((e,o)=>{let{accessToken:n,options:u,theme:c,popoverOptions:p,map:x,value:h,onChange:S,onSuggest:l,onSuggestError:m,onRetrieve:A,interceptSearch:v}=e,s=(0,f.useRef)();return(0,f.useImperativeHandle)(o,()=>({focus:()=>{if(s.current)return s.current.focus();throw new Error("SearchBox is not mounted")}})),(0,f.useEffect)(()=>{s.current&&(s.current.options=u)},[s.current,u]),(0,f.useEffect)(()=>{s.current&&(s.current.interceptSearch=v)},[s.current,u]),(0,f.useEffect)(()=>{s.current&&(s.current.theme=c)},[s.current,c]),(0,f.useEffect)(()=>{s.current&&(s.current.popoverOptions=p)},[s.current,p]),(0,f.useEffect)(()=>{s.current&&(s.current.value=h)},[s.current,h]),(0,f.useEffect)(()=>{let t=s.current;if(!!t)return t.bindMap(x),()=>{t.unbindMap()}},[s.current,x]),(0,f.useEffect)(()=>{let t=s.current;if(!t||!l)return;let i=r=>l(r.detail);return t.addEventListener("suggest",i),()=>{t.removeEventListener("suggest",i)}},[s.current,l]),(0,f.useEffect)(()=>{let t=s.current;if(!t||!m)return;let i=r=>m(r.detail);return t.addEventListener("suggesterror",i),()=>{t.removeEventListener("suggesterror",i)}},[s.current,m]),(0,f.useEffect)(()=>{let t=s.current;if(!t||!A)return;let i=r=>A(r.detail);return t.addEventListener("retrieve",i),()=>{t.removeEventListener("retrieve",i)}},[s.current,A]),(0,f.useEffect)(()=>{let t=s.current;if(!t||!S)return;let i=r=>{r.target===r.currentTarget&&S(r.detail)};return t.addEventListener("input",i),()=>{t.removeEventListener("input",i)}},[s.current,S]),(0,f.useEffect)(()=>{s.current&&(s.current.accessToken=n)},[s.current,n]),f.default.createElement("mapbox-search-box",{ref:s})});var d=y(require("react"));function X(e){let{canAdjustMarker:o=!1,keepMarkerCentered:n=!1,markerAnchor:u="bottom",onSaveMarkerLocation:c,show:p=!1,accessToken:x,feature:h=null,adjustBtnText:S,saveBtnText:l,cancelBtnText:m,satelliteToggle:A=!1,theme:v,mapStyleMode:s="default",defaultMapStyle:t=["mapbox","streets-v11"],footer:i}=e,r=(0,d.useRef)();return(0,d.useEffect)(()=>{!r.current||(p?r.current.show():r.current.hide())},[r.current,p]),(0,d.useEffect)(()=>{r.current&&(r.current.theme=v)},[r.current,v]),(0,d.useEffect)(()=>{r.current&&(r.current.feature=p?h:null)},[r.current,h,p]),(0,d.useEffect)(()=>{r.current&&(r.current.mapStyleMode=s)},[r.current,s]),(0,d.useEffect)(()=>{S!==void 0&&r.current&&(r.current.adjustBtnText=S)},[r.current,S]),(0,d.useEffect)(()=>{l!==void 0&&r.current&&(r.current.saveBtnText=l)},[r.current,l]),(0,d.useEffect)(()=>{m!==void 0&&r.current&&(r.current.cancelBtnText=m)},[r.current,m]),(0,d.useEffect)(()=>{r.current&&(r.current.defaultMapStyle=t)},[r.current,t]),(0,d.useEffect)(()=>{i!==void 0&&r.current&&(r.current.footer=i)},[r.current,i]),(0,d.useEffect)(()=>{r.current&&(r.current.accessToken=x)},[r.current,x]),(0,d.useEffect)(()=>{r.current&&(r.current.onSaveMarkerLocation=c)},[r.current,c]),d.default.createElement("mapbox-address-minimap",{ref:r,"can-adjust-marker":o,"keep-marker-centered":n,"marker-anchor":u,"satellite-toggle":A})}var M=require("react");function D(e,o,n){let u=(0,M.useRef)(n);(0,M.useEffect)(()=>{u.current=n}),(0,M.useEffect)(()=>{if(!e)return;let c=p=>u.current(p);return e.addEventListener(o,c),()=>{e.removeEventListener(o,c)}},[e,o,u])}var B=require("react"),w=require("@mapbox/search-js-core"),re=w.AddressAutofillCore.defaults;function P(e){let o=(0,B.useMemo)(()=>new w.AddressAutofillCore,[]);return(0,B.useEffect)(()=>{let c=e,{accessToken:n}=c,u=b(c,["accessToken"]);o.accessToken=n,o.defaults=T(T({},re),u)},[e]),o}var O=require("react"),H=require("@mapbox/search-js-core"),te=H.SearchBoxCore.defaults;function G(e){let o=(0,O.useMemo)(()=>new H.SearchBoxCore,[]);return(0,O.useEffect)(()=>{let c=e,{accessToken:n}=c,u=b(c,["accessToken"]);o.accessToken=n,o.defaults=T(T({},te),u)},[e]),o}var C=require("@mapbox/search-js-core"),q=require("react");function z(e){let o=(0,q.useMemo)(()=>new C.SearchSession(e),[e]);return e instanceof C.SearchBoxCore,o}var L=require("react"),N=require("@mapbox/search-js-web");function Q(e={}){let o=(0,L.useRef)(null);return(0,L.useMemo)(()=>({formRef:o,showConfirm:()=>(0,N.confirmAddress)(o.current,e)}),[o,e])}module.exports=ee(oe);
//# sourceMappingURL=index.js.map
